(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{53:function(e,t,a){e.exports=a(86)},79:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),l=a.n(r),s=a(13),c=a(14),i=a(17),d=a(16),m=a(32),u=a(19),h=a(3),p=a(5),g=a(20),f=a.n(g),v=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("a",{className:"navbar-item",href:"https://bulma.io"},o.a.createElement("img",{alt:"HIDEOUT logo",src:"https://img.icons8.com/wired/32/5bcd04/note.png",width:"32",height:"32"}),"HIDEOUT"),o.a.createElement("a",{href:"# ",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}))),this.props.username?o.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu "},o.a.createElement("div",{className:"navbar-end"},o.a.createElement("div",{className:"navbar-item has-dropdown darkmode is-hoverable"},o.a.createElement("a",{href:"# ",className:"navbar-item  has-text-white"},this.props.username),o.a.createElement("div",{className:"navbar-dropdown darkmode is-right"},o.a.createElement("a",{href:"# ",className:"navbar-item darkmode"},"Trash"),o.a.createElement("hr",{className:"navbar-divider "}),o.a.createElement("a",{href:"# ",onClick:function(){localStorage.removeItem("jwt"),e.props.history.push("/")},className:"navbar-item darkmode"},"Logout"),o.a.createElement("div",{className:"navbar-item darkmode"},"Version 0.8.2")))," ")):null)}}]),a}(n.Component),b=Object(u.f)(v),E=(a(79),a(25)),w=a.n(E),N=a(52),O=a(35),y=a(28),j=a(26),k=a.n(j),C=(a(82),"http://localhost:8080/api"),x=null,S=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),c=Object(p.a)(s,2),i=c[0],d=c[1],m=Object(n.useState)(!1),u=Object(p.a)(m,2),g=u[0],v=u[1],E=Object(n.useState)(""),j=Object(p.a)(E,2),S=j[0],B=j[1],T=Object(n.useState)(""),A=Object(p.a)(T,2),I=A[0],L=A[1],H=Object(n.useState)(""),W=Object(p.a)(H,2),P=W[0],U=W[1],z=Object(n.useState)(""),D=Object(p.a)(z,2),Y=D[0],q=D[1],J=Object(n.useState)(""),R=Object(p.a)(J,2),_=R[0],F=R[1],M=Object(n.useState)(""),V=Object(p.a)(M,2),$=V[0],G=V[1];Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");t||e.history.push("/");var a={headers:{authorization:t}};f.a.get("".concat(C,"/getall"),a).then((function(e){d(!1),console.log(e.data),l(e.data.notes),B(e.data.username)})).catch((function(e){d(!1),console.log(e)}))}),[]);var K=document.getElementsByName("todo");if(K[0]){K[0].setAttribute("style","height:"+K.scrollHeight+"px;overflow-y:hidden;"),K[0].addEventListener("input",(function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}),!1)}var Q=O.a().shape({todo:O.b().required()}),X=Object(N.a)({mode:"onChange",validationSchema:Q}),Z=X.formState.isSubmitting,ee=X.handleSubmit,te=X.register,ae=X.reset,ne=X.errors,oe=function(){v(!1),U(""),L(""),F(""),G(""),q("")},re=function(e,t){console.log(e,t),U(e),L(t),console.log(r[0]),l((function(a){return a.map((function(a){return a.id===Y?(a.title=e,a.note=t,console.log("foundddddddd"),a):a}))})),le(Y,{title:e,content:t})},le=function(e,t){clearTimeout(x),x=setTimeout((function(){se(e,t),console.log("fire fire fire")}),1e3)},se=function(e,t){var a=Y;l((function(e){var t=e.map((function(e){return e.id})).indexOf(a);console.log(t);var n=e.splice(t,1);return n[0].updated=new Date,[].concat(Object(h.a)(n),Object(h.a)(e))}));var n={headers:{authorization:localStorage.getItem("jwt")}};d(!0);var o={noteid:e,note:t.content,title:t.title};console.log(o),f.a.post("/api/update",o,n).then((function(e){console.log(e.data),y.b.success("Note edited successfully",{position:"bottom-left",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),d(!1)})).catch((function(e){d(!1),console.log(e),y.b.error("Error",{position:"bottom-left",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})}))};return o.a.createElement("div",{className:"darkmode "},o.a.createElement(b,{username:S}),o.a.createElement("div",{className:"container "},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"columns is-centered"},o.a.createElement("div",{className:"column is-half newnotediv"}," ",o.a.createElement("form",{onSubmit:ee((function(e){console.log("adding new todo..........");var t=localStorage.getItem("jwt");k.a.fire({title:"Enter note title",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:function(e){},allowOutsideClick:function(){return!k.a.isLoading()}}).then((function(a){console.log(a),console.log(e);var n={title:a.value,note:e.todo},o={headers:{authorization:t}};d(!0),console.log(e),f.a.post("".concat(C,"/add"),n,o).then((function(e){console.log(e.data),function(){var e={headers:{authorization:localStorage.getItem("jwt")}};d(!0),f.a.get("".concat(C,"/getall"),e).then((function(e){console.log(e.data),l(e.data.notes),B(e.data.username),d(!1)})).catch((function(e){d(!1),console.log(e)}))}(),d(!1),ae(),y.b.success("Note added successfully",{position:"bottom-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){d(!1),console.log(e)}))}))}))},o.a.createElement("textarea",{id:"textareanewnote",className:ne.todo?"textarea inputbordercolor newnotediv darkmode is-danger":"textarea inputbordercolor newnotediv darkmode",placeholder:"What's on your mind",rows:"1",ref:te,name:"todo"}),o.a.createElement("div",{className:"has-text-right"},o.a.createElement("button",{className:"button is-info addnotebtn  is-small",type:"submit",disabled:Z||ne.todo},"Add")))))),i&&o.a.createElement("progress",{className:"progress is-success loadingbar ",max:"100"},"Loading..."),o.a.createElement("div",{className:""},r.map((function(e,t){return o.a.createElement("div",{className:"tile is-ancestor  "},o.a.createElement("div",{className:"tile"},o.a.createElement("div",{className:"tile is-parent is-vertical notetileouter  "},o.a.createElement("article",{onClick:function(){return t=e.id,a=e.title,n=e.note,o=e.created,r=e.updated,v(!0),U(a),L(n),q(t),F(o),void G(r);var t,a,n,o,r},className:"tile is-child notification is-primary notetile"},o.a.createElement("p",{className:" is-pulled-right"},"Created : ",w()(e.created).fromNow()),o.a.createElement("br",null),o.a.createElement("p",{className:"is-pulled-right "},"Updated : ",w()(e.updated).fromNow()),o.a.createElement("p",{className:"title "},e.encrypted?"encrypted":e.title),o.a.createElement("p",{className:"subtitle contentnote"},e.encrypted?"encrypted":e.note))))," ")}))),o.a.createElement("div",{className:g?"modal  is-active":"modal "},o.a.createElement("div",{className:"modal-background",onClick:function(){return oe()}}),o.a.createElement("div",{className:"modal-card "},o.a.createElement("header",{className:"modal-card-head editnoteheader darkmode"},o.a.createElement("p",{className:"modal-card-title"},o.a.createElement("input",{className:"input inputbordercolor notetitlechangeinput darkmode",type:"text",value:P,placeholder:"Title",onChange:function(e){return re(e.target.value,I)}})),o.a.createElement("button",{className:"delete",onClick:function(){return oe()},"aria-label":"close"}))," ",o.a.createElement("section",{className:"modal-card-body darkmode contentnote"},o.a.createElement("textarea",{className:"textarea darkmode inputbordercolor inputbordercolor",value:I,onChange:function(e){return re(P,e.target.value)},rows:String(I.split("\n").length+10),placeholder:"lets write something lord"})),o.a.createElement("footer",{className:"modal-card-foot darkmode editnotefooter cardnotefooter"},o.a.createElement("div",null,o.a.createElement("p",{className:" timeinmodal "},"Created : ",w()(_).fromNow()),o.a.createElement("p",{className:"timeinmodal  "},"Updated : ",w()($).fromNow())," "),o.a.createElement("button",{onClick:function(){k.a.fire({title:"Are you sure?",text:"Note will be moved to trash !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then((function(e){if(e.value){var t={headers:{authorization:localStorage.getItem("jwt")}};d(!0);var a={noteid:Y,state:!1};console.log(a),f.a.post("/api/changestate",a,t).then((function(e){console.log(e.data),d(!1),oe(),l((function(e){var t=e.map((function(e){return e.id})).indexOf(Y);return console.log(t),e.splice(t,1),Object(h.a)(e)})),k.a.fire("Deleted!","Your note is moved to trash.","success")})).catch((function(e){console.log(e)}))}}))},className:"deletenotebutton button is-small is-danger "},"Delete")))),0===r.length?"No Todos to show , Start with new one eh":"",o.a.createElement(y.a,{position:"bottom-left",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})))},B=function(e){return o.a.createElement("div",{hidden:e.hidden,className:"notification is-mobile has-text-centered is-".concat(e.style)},e.text)},T=(a(83),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("footer",{class:"footer"},o.a.createElement("div",{class:"content has-text-centered"},o.a.createElement("p",null,o.a.createElement("strong",null,"Bulma")," by"," ",o.a.createElement("a",{href:"https://jgthms.com"},"Jeremy Thomas"),". The source code is licensed",o.a.createElement("a",{href:"http://opensource.org/licenses/mit-license.php"},"MIT"),". The website content is licensed"," ",o.a.createElement("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"CC BY NC SA 4.0"),".")))}}]),a}(n.Component)),A=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={token:"",altertext:"",altertshow:!0,alertstyle:""},e.changehandleremail=function(t){e.setState({email:t.target.value})},e.changehandlerpass=function(t){e.setState({password:t.target.value})},e.btn1handler=function(t){t.preventDefault(),e.setState({altertext:"",altertshow:!0,alertstyle:"danger"}),console.log("cliking"),console.log("sending.............."),console.log(e.state.email+e.state.password),f.a.post("".concat("http://localhost:8080","/login"),{email:e.state.email,password:e.state.password}).then((function(t){console.log("awe mewwa - - -popopopopo"),console.log(t);var a=t.data;"success"===a.msg&&(console.log("body - "+a),localStorage.setItem("jwt",a.token),e.props.history.push("/dashboard"))})).catch((function(t){console.log(t.response.data.msg),"Invalid_email"===t.response.data.msg&&e.setState({altertext:"Your are not in registerd aye!",altertshow:!1,alertstyle:"danger"}),"Invalid_password"===t.response.data.msg&&e.setState({altertext:"Are you sure these are your creds ? ",altertshow:!1,alertstyle:"danger"})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:" is-desktop is-vcentered"},o.a.createElement("section",{className:"hero  is-fullheight"},o.a.createElement(b,null),o.a.createElement("div",{className:"hero-body"},o.a.createElement("div",{className:"container"},o.a.createElement(B,{style:this.state.alertstyle,text:this.state.altertext,hidden:this.state.altertshow}),o.a.createElement("div",{className:"columns is-centered"},o.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},o.a.createElement("form",{onSubmit:this.btn1handler,className:"box"},o.a.createElement("div",{className:"field"},o.a.createElement("label",{for:"",className:"label"},"Email"),o.a.createElement("div",{className:"control has-icons-right"},o.a.createElement("input",{id:"email",required:!0,type:"text",name:"email",placeholder:"Enter your email",autofocus:!0,onChange:this.changehandleremail,className:"input"}),o.a.createElement("span",{className:"icon is-small is-right"},o.a.createElement("i",{className:"fa fa-envelope"})))),o.a.createElement("div",{className:"field"},o.a.createElement("label",{for:"",className:"label"},"Password"),o.a.createElement("div",{className:"control has-icons-right"},o.a.createElement("input",{className:"input",required:!0,id:"pass",type:"password",name:"pass",placeholder:"Enter your password",onChange:this.changehandlerpass}),o.a.createElement("span",{className:"icon is-small is-right"},o.a.createElement("i",{className:"fa fa-lock"})))),o.a.createElement("div",{className:"field"},o.a.createElement("button",{type:"submit",className:"button is-success"},"Login")))))))," ",o.a.createElement(T,null)))}}]),a}(n.Component),I=(a(84),a(85),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/",component:A}),o.a.createElement(u.a,{path:"/login",component:A}),o.a.createElement(u.a,{path:"/dashboard",component:S})))}}]),a}(n.Component)),L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");L?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):H(t,e)}))}}(),l.a.render(o.a.createElement(I,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.6d7f2ab1.chunk.js.map